为企业的项目创建用户：
	非管理员的用户，都保存在openstack连接的mariadb数据库中
	非openstack管理员（admin）的用户，具有以下权限
		启动实例
		创建卷和快照
		创建镜像
		分配浮动IP
		创建网络和路由器
		创建防火墙以及规则、规则策略
		查看网络拓补、项目使用概况等
	admin管理员通过Horizon创建企业项目的用户：在公有云（华为）中，它们做了2次开发，这个创建用户的操作，是企业自己注册的！
		身份管理—>用户—>创建用户（其中7大组件的用户我们不能动！）
		创建用户时，要指定这个用户是针对哪个公司的项目，还要指定这个用户是什么类型的用户，我们要选member！admin是对openstack上所有项目都有操作权限的用户

**********************************************************************************************************************************************************************

配额管理，云主机类型设置：
	我们卖给公司的项目，要分配硬件资源，到底给这个公司多少台云主机，一共给它多少块cpu，多少G内存什么的
	这里就需要我们对云主机类型做一定的配置了，要搭配着卖，不能说企业要8个CPU，结果它就要1G内存，那这绝对不合理！卖我就卖一整台服务器
		管理员—>云主机类型—>创建云主机类型
			这里面有默认提供的云主机类型，如果不满足需求，就自己创建，注意创建云主机的类型时，指定的根磁盘容量，指的是你前端盘的容量，必须要大于后端盘的容量才可以！

镜像管理：
	在openstack中，镜像指的是虚拟磁盘文件，磁盘文件中应该安装了可以启动的操作系统，也就是后端盘！
	是放在Glance里用于其它云主机做系统用的后端盘！它形成了创建虚拟机实例最底层的块结构！
	镜像可以由用户上传，也可以通过红帽官方站点下载
	我们把后端盘上传到Glance里
	Glance中支持的磁盘格式：
		1.vhd：vmvare、xen、microsoft、virtualbox等均支持的通用磁盘格式
		2.vmdk：是vmvare的虚拟磁盘格式
		3.vdi：virtualbox虚拟机和qemu支持磁盘格式
		4.iso：光盘数据内容的归档格式
		5.qcow2：qemu支持的磁盘格式，空间自动扩展，并支持写时复制  不用这个可能会很占空间，且拷贝缓慢
	镜像服务：
		提供了镜像的拷贝，快照功能，可以作为模版快速建立，启动服务器
		镜像服务维护了镜像的一致性
		镜像服务维护了镜像的一致性
		当上传镜像时，必须指定它的磁盘格式
		还要指定镜像的容器格式
	什么是镜像容器格式：
		bare：镜像中没有操作系统
		ovf：一种开源的文件规范，描述了一个开源，安全，有效，可拓展的便携式虚拟打包以及软件分布格式
		ova：ova归档文件
		aki：亚马逊内核镜像
		ami：亚马逊主机镜像
	在web网页上管理镜像：
		管理员—>镜像—>创建镜像
		这里我们用的镜像文件是rhel6的压缩后的系统镜像，在888软件包中cloud4里的small.img
		找到那个镜像文件，指定qcow2.qemu类型
		做完这两步，直接创建镜像就可以了

**********************************************************************************************************************************************************************

网络管理：
	网络和路由的配置：
	一共分为两部分，一部分用于内网管理，（内网也就是虚拟网络的配置是企业自己玩的），一部分用于外网通信（外网是我们云商的真实网络，是需要我们配置的）
	我们云主机实例被分的到子网中，
	一个项目可以有一到多个子网
	每个项目都能拥有多个局域网，各个项目里的虚拟局域网互不干扰

	我们云商admin的外网配置方法：
		云商从网络运营商那边购买的外网IP，然后云商把这些购买的外网IP卖给购买云主机的公司，配置给公司的项目上
		管理员—>网络—>创建网络
			它们哪家公司花钱了，想访问外网，我们就给哪个公司的项目配置flat网络，
			物理网络：我们随便起个名字最好写physic这样可以分辨是虚拟网络还是真实网络
			段ID我们可以不填，它会自己生成
			共享的外部网络这俩勾选上
		然后云商就把服务器上可以访问外网的网卡IP告诉给企业，企业配置上就可以了！

	公司所购买的云主机想上网的配置方法：
		用公司项目的用户名和密码登陆openstack
		我们看到的这个蓝色wan，就是云商给我们的可以访问外网的那张网卡IP（在我们看来就像是一个三层交换机），云主机连上这个就能访问外网
		现在我们要先给这个三层交换机进行IP配置等
			网络—>网络拓补—>创建子网
				子网名称：随便起个名就行，最好能分辨出这是公网
				网络地址：这是从云商那买回来的网络地址，在这里就是br-ex使用的那个网段192.168.4.0/24 （你这个网段的IP都能和那个云商的IP互通，所以填的是网段）
					（这里需要注意的是，云商不可能给它一整个网段的IP，云商肯定会对这个网段的IP做子网划分的）
				网关IP：就得写br-ex的IP地址192.168.1.254 （我想上网得有网关啊，得找到路由器啊，这里那个br-ex就相当于三层交换机，而它的端口IP就相当于网关）
			配置完这些点下一步，修改子网详情
				把激活dhcp取消勾选！因为整个网段都是企业花钱买的，要有规划的分配！
				DNS服务器：
					在这里写云商提供的DNS服务器IP，指定的是云商的openstack服务器的IP，写br-ex的IP就可以，因为你连上br-ex不就是连上管理机了吗，
					有为管理机提供DNS解析的，所以也就能给你企业的云主机提供DNS解析
				配置完了点击已创建即可
		现在对于公司来说，它就有了一台能上外网的路由器了！
				现在公司可以搭建自己想要的内部网络了：
				网络—>网络拓补—>创建网络
					网络名称：随便写  创建子网勾选上 然后点击下一步配置子网 
					
					子网名称：随便写
					网络地址：
						这个地址就是你公司内部局域网的IP了，私有网段你随便写，
						这里我们写10.10.10.0/24
						不过别跟WAN网提供的那个IP冲突哦，因为那个wan网IP是公网的IP
					网关IP：这里我们写10.10.10.254 这个网关就相当于连接WAN网路由器的那台路由器的内部端口！
				然后点击下一步，进入子网详情的配置！
				激活DHCP：
					因为这里已经是内部局域网了，所以IP要用dhcp自动分配，这里分配地址池的写法：
						10.10.10.100，10.10.10.200	#这是100到200范围的写法！dhcp分配的范围视情况自己定！用逗号分隔！
				然后DNS服务器：
					想配置的话，就写给openstack管理机提供DNS解析的主机地址即可！因为可以ping通openstack管理机，所以也可以找到那台DNS啊！
					或者你写任意外网的DNS服务器地址也行，因为可以访问外网
				主机路由：
					主机路由不用写，因为我们都设置默认网关了10.10.10.254了，它能找到这台路由器
			以上公司内部网络就简单配置完成了！
						
		但是对于公司来说，连接外网的三层交换机，和内部局域网里的三层交换机，是没有建连的，我们新建一个路由器，把它们俩连接起来：
			点击网络—>网络拓扑—>新建路由
				路由器名称：随便写
				外部网络：指定那个可以访问外网的三层交换机
			现在这个路由器就和外网三层交换建立连接了，还没有和内部的三层交换机建立连接：
				把鼠标放到这个路由器上面，然后点击增加接口
				子网：
					选择内部局域网
				IP地址：
					它的IP地址是10.10.10.254，这个就是内部局域网的网关地址！

**********************************************************************************************************************************************************************

知识点补充：
	systemctl restart openstack-nova-computer.service
	systemctl enable openstack-nova-computer.service 		#这个服务在管理机中启动，就是openstack中的nova云主机服务，没这个服务，企业没法子创建云主机

**********************************************************************************************************************************************************************

企业创建使用云主机：
	计算—>云主机数量—>创建云主机
		详情：
			1）云主机名称：随便写
			2）可用域：nova
			3）数量：1
		源：（这里要配置你的云主机镜像）
			1）选择源：镜像	创建新卷：选否
			可用下面的镜像点一下那个加号，就是使用这个镜像做后端盘了！
		云主机类型：
			这里选择云商提供的主机类型，需要哪个配置，点哪个加号
		网络：
			这里我们要给这个云主机选择私有网络，点它的加号
	做完这几步，就可以创建云主机了
		
	企业管理云主机：
		项目—>计算—>云主机数量—>点击对应的云主机名称—>控制台
		点击此处只显示控制台这一行，就可以玩这台云主机了，这个系统的默认密码是redhat

**********************************************************************************************************************************************************************

这里有一个问题！就是你如果点击了只显示控制台它报错1006！那说明，它ping不通你的openstack管理机的主机名！！！！
	#你/etc/hosts里和/etc/hostname里的主机名必须一致！/etc/host里不仅写了主机名，还写了IP地址！
	#你/etc/nova/nova.conf这个配置文件指定了云主机的主机名称在8465行
		vncserver_proxyclient_address=openstack.openstack			
		千万不要改这个文件，9000多行，很多行都指定这个名称了！
		把这个名称复制下来，写在你管理机里的/etc/hosts里！之前的名字可以删！把/etc/hostname里的名称删除掉

**********************************************************************************************************************************************************************

关于浮动IP：
	项目—>计算—>访问和安全—>浮动IP





















